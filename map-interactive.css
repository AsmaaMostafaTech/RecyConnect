:root{--baby-blue:#c5e8ff;--accent:#7FDBFF;--navy:#05386B;--muted:#475569}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial;background:var(--baby-blue);color:var(--navy)}
.container{width:94%;max-width:1200px;margin:0 auto}

/* Header */
.site-header{background:transparent;padding:14px 0}
.nav-container{display:flex;align-items:center;justify-content:space-between}
.logo{font-weight:700;color:var(--navy);text-decoration:none}
.nav{display:flex;gap:14px}
.nav a{color:var(--navy);text-decoration:none;padding:8px;border-radius:6px}
.nav a:hover{background:rgba(5,56,107,0.06)}

.hero{padding:10px 0}
.hero h1{margin:0;font-size:1.6rem}
.lead{margin-top:6px;color:var(--muted)}

/* Controls */
.map-controls{margin:10px 0}
.filter-row{display:flex;gap:10px;flex-wrap:wrap}
.filter-btn{background:transparent;border:1px solid rgba(5,56,107,0.08);padding:8px 12px;border-radius:999px;cursor:pointer;color:var(--navy);transition:all .18s ease}
.filter-btn.active{background:var(--accent);box-shadow:0 6px 18px rgba(122,200,230,0.18)}

/* Map area */
.map-wrapper{background:linear-gradient(180deg,#eaf8ff, #d6f0ff);border-radius:12px;padding:18px}
.map-canvas{position:relative;height:60vh;min-height:360px;border-radius:8px;background-image:linear-gradient(180deg, rgba(0,0,0,0.02) 0, rgba(0,0,0,0.01) 100%);overflow:hidden}

/* Leaflet map container should fill the canvas */
#leafletMap{height:100%;width:100%;border-radius:8px}

/* Pin base */
.map-pin{position:absolute;transform:translate(-50%,-100%);background:transparent;border:0;padding:0;cursor:pointer;outline:none}
.pin-dot{display:inline-block;width:18px;height:18px;background:var(--navy);border-radius:50%;box-shadow:0 6px 18px rgba(5,56,107,0.18);transition:transform .18s ease,box-shadow .18s ease}
.map-pin:hover .pin-dot{transform:scale(1.15);box-shadow:0 10px 24px rgba(5,56,107,0.22)}

/* Pin color variants */
.pin-food .pin-dot{background:#ffb703}
.pin-upcycle .pin-dot{background:#00b4d8}
.pin-agri .pin-dot{background:#90e0ef}

/* Popup */
.pin-popup{position:absolute;left:50%;top:-10px;transform:translate(-50%,-110%) scale(.98);background:#fff;border-radius:10px;padding:10px 12px;min-width:160px;box-shadow:0 10px 30px rgba(2,48,71,0.12);color:var(--navy);opacity:0;pointer-events:none;transition:opacity .22s ease,transform .22s ease}
.map-pin:hover .pin-popup,.map-pin.show .pin-popup{opacity:1;transform:translate(-50%,-120%) scale(1)}
.pin-popup strong{display:block;margin-bottom:6px}
.popup-body{font-size:.92rem;color:var(--muted)}

/* Hidden class for pins (filters) */
.map-pin.hidden{opacity:0;transform:translate(-50%,-100%) scale(.96);pointer-events:none}

/* Responsive */
@media (max-width:720px){
  .map-canvas{height:52vh}
  .pin-popup{min-width:140px;font-size:.95rem}
}

/* Footer */
.site-footer{padding:14px 0;color:var(--muted)}
